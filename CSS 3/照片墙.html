<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{margin: 0;
          padding: 0;}
        html,body{height: 100%;}
        #container{width: 100%;
                    height: 100%;
                    background: url("image/bg.jpg") 0 0 repeat;}
        .img{width:125px;
              height:125px;
              border:5px solid white;
              position: absolute;
              left:-135px;
              top:-135px;
              -webkit-transition: all 1.5s ease 0.5s;}
    </style>
</head>
<body>
<div id="container">
    <!--<span class="left"></span>-->
    <!--<span class="right"></span>-->
</div>
<script>
    var Ocontainer=document.getElementById('container');
    var count=0;
    for ( var i=0;i<24;i++){
          var oImg= new  Image();
        oImg.onload=function(){
            count++;
            if (count==48){
                console.log(111);
                LoadSuccess();
            }
        };
          oImg.src='image/small-img/'+(i+1)+'.jpg';
    }

    for ( var i=0;i<24;i++){
        var oImg= new  Image();
        oImg.onload=function(){
            count++;
            if (count==48){

                LoadSuccess();
            }
        };
        oImg.src='image/big-img/'+(i+1)+'.jpg';
    }
    var index=0;
    function LoadSuccess(){

        for( var i=0;i<4;i++){
            for(  j=0;j<6;j++){
               index++;
                var oDiv =document.createElement('div');
                oDiv.className='img';
                oDiv.style.background='url(image/small-img/'+index+'.jpg)';
                Ocontainer.appendChild(oDiv);
                oDiv.onclick = fn;
                var iSpaceX =( Ocontainer.offsetWidth - 135*6 )/7;
                var iSpaceY =( Ocontainer.offsetHeight - 135*4 )/5;
                oDiv.style.left=(j+1)*iSpaceX+j*135+'px';
                oDiv.style.top=(i+1)*iSpaceY+i*135+'px';
                oDiv.style.webkitTransform = "rotate("+ (Math.random()-0.5)*40+"deg)";
                oDiv.style.webkitTransform='rotate('+(Math.random()-0.5)*40+'deg)';
                oDiv.style.webkitTransitionDelay = (23-index)*100+"ms";
            }
        }

    }
    //图片之间的缝隙
    var aDiv= Ocontainer.getElementsByTagName('div');
    var iLeft = (Ocontainer.offsetWidth - 6*127)/2;
    var iTop = (Ocontainer.offsetHeight - 4*127)/2;

        function fn(){
            for (var i=0;i<aDiv.length;i++){
        aDiv[i].style.left=iLeft+(aDiv[i].col-1)*127+'px';
        aDiv[i].style.top=iTop+(aDiv[i].row-1)*127+'px';
           }
    }

</script>
</body>
</html>